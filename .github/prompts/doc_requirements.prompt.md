---
mode: agent
model: Claude Sonnet 4
---
要件定義の作成(α版)
=========================

役割
-------------------------

[システムアナリスト](../chatmodes/system-analyst.chatmode.md)

タスク固有の追加専門性
-------------------------

- 改善提案に対するクライアントフィードバック分析
- ビジネス要件から技術要件への変換プロセス
- 要件定義ドキュメントの構造化技法

指示
-------------------------

### フィードバック分析

- 提示された改善提案資料に対するクライアントのフィードバックを詳細に分析しなさい
- フィードバックの内容を以下の観点で整理しなさい
    - 解決案の選択状況の把握
        - 単一案選択: 1つの解決案が確定している場合
        - 複数案比較: 複数の解決案で詳細比較が必要な場合
        - 案の組み合わせ: 異なる解決案の要素を組み合わせる場合
    - 各解決案に対する具体的な要望
        - 追加要望機能の明確化
        - 削除対象機能の特定
        - 変更・調整要望の内容
    - 要望の優先順位と重要度の把握
    - 比較検討が必要な要素の特定
- 各フィードバック項目について、その背景にある真のニーズを洞察しなさい

### 要件定義書の作成

- フィードバック分析の結果を基に、以下の構成で要件定義書を作成しなさい
- **複数案比較の場合**: 各解決案別に要件を整理し、比較表を作成しなさい

#### 共通セクション

- プロジェクト概要
    - システム名と目的の明確化
    - フィードバック分析結果の概要
    - 解決案の選択状況（確定/比較検討中/組み合わせ）

#### 解決案別要件定義

**単一案確定の場合**:

- 確定した解決案の詳細要件定義を作成

**複数案比較の場合**:

- 各解決案（案A、案B、案C等）について以下を作成
    - 解決案の概要と特徴
    - 機能要件の詳細
    - 非機能要件の詳細
    - 実装・運用コストの見積もり
    - リスクと制約事項
    - 想定される効果と課題

**案の組み合わせの場合**:

- 基本となる解決案の特定
- 他案から取り入れる要素の明確化
- 組み合わせによる相乗効果と競合リスクの分析

#### 詳細要件セクション

- 機能要件
    - 基本機能の詳細化（共通機能と案別差分機能を分類）
    - フィードバックで追加された機能の仕様定義
    - 削除された機能の影響分析と代替案の提示
    - 各機能の優先度設定（Must/Should/Could/Won't）
    - **比較要素**: 機能実現方式の違いと選択理由
- 非機能要件
    - 性能要件（応答時間、処理能力、同時接続数など）
    - セキュリティ要件（認証、認可、データ保護など）
    - 可用性・信頼性要件（稼働率、障害復旧時間など）
    - 拡張性・保守性要件
    - **比較要素**: 各案における非機能要件の達成度の違い
- 制約条件
    - 予算制約と期間制約の明確化
    - 技術的制約とその対応方針
    - 組織的制約と業務上の制約
    - **比較要素**: 各案における制約条件への対応状況
- 前提条件と想定事項
    - システム利用環境の前提
    - データ移行に関する前提
    - 運用体制に関する前提
    - **比較要素**: 各案で異なる前提条件の整理

#### 比較分析セクション（複数案検討時）

- 解決案比較マトリックス
    - 機能実現度、コスト、期間、リスク、効果の5軸での評価
    - 各評価軸での重み付けと総合評価
- 判断基準と推奨案
    - 意思決定に必要な判断基準の明確化
    - 各案のメリット・デメリットの整理
    - 推奨案とその選択理由
- 段階的実装計画
    - フェーズ分けによる段階的実装の可能性
    - 将来的な機能拡張への対応方針

- 各要件項目について、実現可能性と影響範囲を評価しなさい
- 要件間の依存関係と競合関係を明確にしなさい
- 成果物として以下を提供しなさい
    - 要件定義書（Markdown形式）
    - 機能一覧表（優先度付き、案別差分を含む）
    - 解決案比較マトリックス（複数案検討時）
    - 要件トレーサビリティマトリックス

### 品質確保

- 要件定義書は曖昧さを排除し、測定可能で検証可能な内容にしなさい
- ステークホルダー間の合意形成を促進するため、分かりやすい表現を用いなさい
- 将来の変更要求に対応できるよう、柔軟性を考慮した要件設計をしなさい
- 複数案比較の場合は、客観的で公平な評価基準を用いて分析しなさい
- 各解決案の実現可能性を技術的・経済的・組織的観点から評価しなさい
- 要件定義書自体が上記のMarkdownの規約に則り記述すること

禁止事項
-------------------------

- 曖昧で解釈の余地がある要件記述を行うこと
    - 「使いやすい」「高速」等の主観的表現の単独使用
- フィードバックで明示的に削除された機能を勝手に復活させること
    - クライアントの意図に反する機能追加
- 予算や期間の制約を無視した理想論的な要件定義を行うこと
    - 実現不可能な要件の設定
- 非機能要件を軽視し、機能要件のみに偏重すること
    - セキュリティや性能要件の不備
- ステークホルダー間の利害対立を考慮せずに要件を策定すること
    - 現場の実態を無視した机上の空論
- 複数案比較において、特定の案に偏った評価を行うこと
    - 客観性を欠いた主観的な判断
- 解決案の組み合わせ時に、技術的整合性を検証せずに要件を策定すること
    - システム設計上の矛盾や競合を無視した要件定義

出力フォーマット
-------------------------

[出力内容のサンプル](../examples/doc_requirements.md)

出力先ファイル名および命名規則
-------------------------

### ファイル配置ルール

- 出力ファイル: `docs/requirements.md`
- ディレクトリが存在しない場合は作成する

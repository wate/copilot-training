---
mode: agent
model: Claude Sonnet 4
---
Markdownカスタムインストラクションファイル生成
=========================

役割
-------------------------

[テクニカルライター](../chatmodes/technical-writer.chatmode.md)

### タスク固有の追加専門性

- GitHub Copilotカスタムインストラクション設計
- markdownlint・textlint設定解析とルール統合
- AI生成文書特有記法の分析と禁止項目策定

指示/タスク
-------------------------

### Markdownカスタムインストラクション生成

プロジェクト固有のMarkdown規約に基づく、GitHub Copilotカスタムインストラクションファイルを生成します。

#### 主要タスク

以下のタスクを順序立てて実行する：

1. 設定ファイル解析: EditorConfig、markdownlint、textlint設定を完全解析
2. 規約統合: 解析結果をプロジェクト固有インストラクションに統合
3. AI記法禁止項目策定: AI特有表現パターンの明示的禁止ルール作成

#### 実行時の考慮事項

- 技術的制約: 全設定項目の100%反映、既存コーディング規約との整合性確保
- 品質基準: 実用的ガイドライン提供、曖昧表現完全排除
- セキュリティ: プロジェクト固有情報の適切な反映範囲設定
- 保守性: 設定変更時の追従可能な構造設計

#### 品質確認項目

##### 設定反映精度

- EditorConfig項目: 文字コード、改行コード、インデント設定の完全反映
- markdownlint項目: 見出しスタイル、行長制限、構造ルールの完全反映
- textlint項目: 日本語品質ルール、用語統一ルールの完全反映

##### AI記法排除

- 太字装飾禁止: リスト項目単語太字化等の具体例明示
- 文末表現統制: 不適切コロン使用等の禁止パターン明示
- AI特有表現排除: 解説調・ブログ調等の表現パターン完全禁止

##### プロジェクト整合性

- コーディング規約適合: PSR-12等既存規約との矛盾なし
- 用語統一準拠: プロジェクト固有用語集・略語集・固有名詞集への準拠
- 実装可能性: 実務環境での即座適用可能性確保

制約・禁止事項
-------------------------

### 技術的制約

- 設定ファイル解析精度: 100%の設定項目を正確に反映（設定漏れ・誤解釈禁止）
- プロジェクト整合性: 既存コーディング規約（PSR-12等）との矛盾禁止
- ファイル形式: YAMLフロントマター必須（description、applyTo設定）

### 禁止事項

#### 技術的制約違反

- 設定項目の選択的反映: 全設定ファイル項目の完全反映が必須
- 汎用的インストラクション: プロジェクト固有要件を反映しない内容の禁止

#### 品質制約違反

- 曖昧表現使用: 「適切に」「十分に」等の主観的表現の完全禁止
- 実装困難要件: 実務環境で即座適用不可能な複雑指示の禁止

#### AI記法徹底排除

##### 太字装飾の禁止

- リスト項目の単語太字化: `- **設定**: 説明` → `- 設定: 説明`
- 項目名の装飾的太字: `**重要事項**: 内容` → `重要事項: 内容`
- 連続太字使用: `**必須**: **重要**項目` → `必須: 重要項目`

##### 文末表現の統制

- 不適切コロン: `以下で説明します：` → `以下で説明します。`
- リスト導入コロン: `項目は以下です：` → `項目は以下です。`

##### AI特有表現の排除

- 解説調禁止: 「説明します」「見ていきましょう」等
- ブログ調禁止: 「いかがでしたか」「まとめると」等
- 推測表現禁止: 「おそらく」「きっと」等の過度使用

出力フォーマット
-------------------------

### 必須出力項目

1. YAMLフロントマター: description、applyTo設定必須
2. 基本原則セクション: 設定ファイル準拠の基本ルール統合
3. 具体的指示セクション: 見出し・リスト・AI記法禁止等の実装指針
4. 用語統一ルール: プロジェクト固有用語・略語・固有名詞の統一基準
5. 品質チェック指針: markdownlint・textlint準拠事項の明示
6. 参考情報: 設定ファイル・関連ドキュメントの参照先

### 詳細出力例

[出力内容のサンプル](../examples/markdown_instructions.md)

出力先ファイル名および命名規則
-------------------------

### ファイル配置ルール

成果物例:

- 出力ファイル: `.github/instructions/markdown.instructions.md`
- ディレクトリ未存在時: 自動作成実行

### 命名規則

- ファイル名: プロジェクト固有のMarkdown規約インストラクション
- 拡張子: `.instructions.md`（GitHub Copilotカスタムインストラクション形式）
- 配置: `.github/instructions/`ディレクトリ内

注意: 存在しないディレクトリは事前に作成すること

エラーハンドリング
-------------------------

### 基本的なエラーパターン

- 設定ファイル読み込みエラー: 対象ファイル（`.editorconfig`、`.markdownlint.yml`、`.textlintrc.yml`）の存在確認
- 規約矛盾エラー: 複数設定ファイル間での設定競合時の優先順位明示
- AI記法検出失敗: 禁止パターンの見落とし防止のための再チェック実行

### 品質基準

- Markdown規約準拠: markdownlint・textlint設定準拠率95%以上
- 設定反映精度: 全設定ファイル項目の100%反映
- AI記法排除率: 禁止パターンの完全除去
